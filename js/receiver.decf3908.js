(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["receiver"],{"1d1f":function(e,t){e.exports={functional:!0,render(e,t){const{_c:s,_v:a,data:o,children:i=[]}=t,{class:n,staticClass:r,style:c,staticStyle:l,attrs:h={},...d}=o;return s("svg",{class:[n,r],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 92 53"},h),...d},i.concat([s("g",{attrs:{"clip-path":"url(#_clipPath_DBKJNQ6ncz1fVktbefDVInZnlBu8kyHj)"}},[s("path",{attrs:{d:"M2.6 17.5c.6-3.7 1.6-6.7 3.2-8.7 1.4-2.1 3.6-3.7 6.3-4.9 2.7-1.1 6.5-1.7 11.3-1.7 5 0 8.9.6 11.6 1.6 2.9 1.1 5.1 2.7 6.6 5 1.6 2.2 2.5 4.6 2.5 7.5 0 2.8-.9 5.7-2.8 8.3-1.8 2.7-5.1 5.6-10 8.9-2.9 1.8-4.7 3.1-5.7 3.8-1 .7-2.2 1.7-3.5 2.9h23.3V1.9c4.3.6 8.4 2 12.1 4.6q2.9 1.9 9.6 9.2c1.2 1.4 2.5 3 3.8 4.9 2 3 3.4 5 4.3 5.8.8 1 1.8 2.3 3.1 3.6V1.9h12.1v49.2c-4.5-.4-8.5-2-12.4-4.6-2.7-1.9-6-4.9-9.4-9.2-1.3-1.4-2.5-3-3.8-4.9-2.1-3-6.3-8-7.5-9.4v28.1H1.6c.5-3.9 2-7.6 4.5-11.2 2.4-3.4 7.2-7.6 14-12.3 4.2-2.9 6.9-5.2 8.1-6.6 1.1-1.6 1.7-3 1.7-4.3 0-1.5-.6-2.7-1.7-3.7-1.2-1.2-2.6-1.6-4.5-1.6-1.7 0-3.3.6-4.4 1.6-1.2 1.1-1.7 1.8-2.2 4.5H2.6z",fill:"none","vector-effect":"non-scaling-stroke"}})])]))}}},"589f":function(e,t,s){},"6f40":function(e,t,s){"use strict";s("589f")},d4c2:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ReceiverConnection",{attrs:{roomName:e.roomName},on:{state:e.onConnectionStateChanged,stream:e.onStream,"presence-check-wait":e.onPresenceCheckWait,stats:e.onStats,"receiver-viewer-count":e.onReceiverViewerCount}}),s("div",{staticClass:"menu-bar"},[s("div",{staticClass:"frow row-start"},[e.isStream?s("button",{staticClass:"button-link",on:{click:e.showStats}},[e._v("Stats")]):e._e()])]),e.statsVisible?s("div",{staticClass:"stats-box shadow-light"},[s("XSvg",{on:{click:e.hideStats}}),s("div",{staticClass:"m-10"},[e.stats.video.recv.codecs.length>0?s("div",[e._v(e._s("Video: "+e.stats.video.recv.codecs))]):e._e(),e.stats.video.recv.codecs.length>0?s("div",[e._v(e._s("Resolution: "+e.stats.resolutions.recv.width+"x"+e.stats.resolutions.recv.height))]):e._e(),e.stats.audio.recv.codecs.length>0?s("div",[e._v(e._s("Audio: "+e.stats.audio.recv.codecs))]):e._e(),s("div",[e._v(e._s("Data: "+this.bytesToSize(e.stats.audio.bytesReceived+e.stats.video.bytesReceived)))])])],1):e._e(),s("div",{staticClass:"frow centered-column nowrap"},[e.isStream?e._e():s("router-link",{staticClass:"create-message",attrs:{to:"/"}},[s("LoadingSvg",{staticClass:"loading-logo"})],1),e.isStream?s("router-link",{staticClass:"mb-50",attrs:{to:"/"}},[s("LogoSvg",{staticClass:"reciever-logo"})],1):e._e(),s("Player",{directives:[{name:"show",rawName:"v-show",value:e.isStream,expression:"isStream"}],attrs:{stream:e.stream,receiverViewerCount:e.receiverViewerCount,showExtraControls:!0}}),e.isStream?e._e():s("div",{staticClass:"info-bar"},[e._v(e._s(e.infoBarMessage))]),e.isStream?e._e():s("router-link",{staticClass:"create-message",attrs:{to:"/streamer"}},[e._v("Create your own room")]),e.isStream?e._e():s("PublicRooms",{staticClass:"mt-40"})],1)],1)},o=[],i=(s("ac1f"),s("5319"),s("498a"),s("99af"),s("b0c0"),s("25ca")),n=s.n(i),r=s("1d1f"),c=s.n(r),l=s("8923"),h=s.n(l),d=s("8bd9"),u=s.n(d),v=s("91f9"),f=s.n(v),m=s("7b37"),S=s.n(m),g=s("e2bf"),C=s.n(g),b=s("8fee"),w=s("7c8a"),T=s("8137"),E={name:"Receiver",metaInfo:function(){return{title:"2N.fm Â· ".concat(this.roomName)}},components:{XSvg:n.a,LoadingSvg:c.a,LogoSvg:h.a,PlaySvg:u.a,PauseSvg:f.a,FullscreenSvg:S.a,TheaterSvg:C.a,ReceiverConnection:b["a"],PublicRooms:w["a"],Player:T["a"]},data:function(){return{roomName:this.$route.params.room,stream:new MediaStream,isStream:!1,statsVisible:!1,stats:{},infoBarMessage:"",presenceCheckWait:null,receiverViewerCount:0}},created:function(){var e=this.$route.params.room.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase();this.$route.params.room!==e&&this.$router.push(e)},mounted:function(){window.addEventListener("offline",this.setOffline,!1),window.addEventListener("online",this.setOnline,!1)},beforeDestroy:function(){window.removeEventListener("offline",this.setOffline,!1),window.removeEventListener("online",this.setOnline,!1)},methods:{onConnectionStateChanged:function(e){switch(e.value){case b["a"].STATE.NOT_HOSTED:this.infoBarMessage="Room: ".concat(this.roomName," isn't hosted yet.\n            Checking again ").concat(6e4===this.presenceCheckWait?"every":"in","\n            ").concat(Math.round(this.presenceCheckWait/1e3)," seconds.");break;case b["a"].STATE.JOINING:this.infoBarMessage="Joining room: ".concat(this.roomName);break;case b["a"].STATE.UNAUTHORIZED:this.infoBarMessage="Incorrect password";break;case b["a"].STATE.UNAVAILABLE:this.infoBarMessage="\n          Screen share session is closed or paused.\n          You will join automatically when share session is resumed.\n        ";break;case b["a"].STATE.PEER_WILL_SEND:this.infoBarMessage="Remote peer is about to send his screen.";break;case b["a"].STATE.SOCKET_CLOSED:this.stream=null,this.infoBarMessage="Screen sharing has been closed.",this.hideStats(),location.reload();break;case b["a"].STATE.SOCKET_DISCONNECT:this.isStream=!1,location.reload();break;case b["a"].STATE.SOCKET_ERROR:alert("Unable to connect to the server. Please try again."),setTimeout((function(){location.reload()}),1e3);break;case b["a"].STATE.HAVE_OFFER:this.infoBarMessage="Received WebRTC offer from: ".concat(this.roomName);break;case b["a"].STATE.HANDSHAKE_COMPLETE:this.infoBarMessage="\n          WebRTC handshake is completed.\n          Waiting for remote video from: ".concat(this.roomName,"\n        ");break;case b["a"].STATE.CONNECTED:this.isStream=!0;break;case b["a"].STATE.DISCONNECTED:this.isStream=!1,this.infoBarMessage="You've been disconnected. Please try again.";break;case b["a"].STATE.GENERIC:this.infoBarMessage="".concat(e.name,": ").concat(e.reason);break}},onStream:function(e){this.stream=e},onPresenceCheckWait:function(e){this.presenceCheckWait=e},onReceiverViewerCount:function(e){this.receiverViewerCount=e},onStats:function(e){this.stats=e},showStats:function(){this.statsVisible=!0},hideStats:function(){this.statsVisible=!1},bytesToSize:function(e){var t=1e3,s=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var a=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return"".concat((e/Math.pow(t,a)).toPrecision(3)," ").concat(s[a])}},setOffline:function(){this.infoBarMessage="You seem to be offline."},setOnline:function(){this.infoBarMessage="You are back online. Reloading the page...",location.reload()}},_=E,k=(s("6f40"),s("2877")),p=Object(k["a"])(_,a,o,!1,null,"0fa916ea",null);t["default"]=p.exports}}]);
//# sourceMappingURL=receiver.decf3908.js.map